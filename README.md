# Reactor Workshop Demo Project

Aim of this project is to serve as demonstration on implementing Project Reactor Publisher and Subscriber
in connection with Kafka as a message delivery system.

This project is using EnTur REST api to retrieve set op Stop Places and then send them as a stream of
data to Kafka topic. On the other end we have a Kafka consumer that is reading from the same topic and verify
received messages.

The whole system is designed to be reactive based on Project Reactor Kafka Producer and Consumer implementations.

##  Steps used in demo implementation

1. Download array of stop places from EnTur Rest API: https://api.entur.io/stop-places/v1/read/stop-places
2. Create Model object based on JSON result from API call by using `json2pojo` IntelliJ plugin.
3. Execute Rest API call from Java and parse result to generated model objects.
4. Create SpringBoot DAO and Service objects that will implement and expose EnTur REST api call as stream of data
5. Implement Kafka Producer and Consumer by using [Project Reactor](https://projectreactor.io/) Kafka Producer and Consumer implementation and thus converting generated stream to Project reactor [Flux](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html) and [Mono](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html) objects.
6. Test implementation by using `@SpringBootTest` with SpringBoot embedded Kafka.

## Code structure

- `ReactorController` class is used to start the whole process by executing manual API call
- `model.stopplaces` directory contains series of autogenerated model object
- `dao` directory contains Data Access Object that is implementing Entur API call and retrieving list of stop  places
- `service` directory contain implementation class that implements Project Reactor Kafka Producer and Consumer
- `test` directory contains test for both controller and service implementations

#### References:
- [EnTur Rest API](https://api.entur.io/stop-places/v1/read/stop-places)
- [Reactor 3 Reference Guide](https://projectreactor.io/docs/core/release/reference/index.html#getting-started)
- [Reactor Kafka Reference Guide](https://projectreactor.io/docs/kafka/release/reference/)
- [Reactor Kafka GitHub Repo](https://github.com/reactor/reactor-kafka/)
